/**  NUI v2.0.0  |  Made by NTELS ICS Team **/
$(function(){navigationLNB(),minNav(),utilDropdown(),scrollDetect(),searchAdvanced(),autoWidthInput(),checkGroupAll(),switchGroupAll(),btnToggle(),textClear(),fileUpload(),numberSpinner(),multiSelectLoad(),tooltipLoad(),dropdownLoad(),formBlurDrag(),$(".lnb .navigation").hover(formBlur)}),$(window).on("resize",function(){minNav()});var isMobile=!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|nokia|IEMobile|Opera Mini/i.test(navigator.userAgent);function throttle(t,n){var e=Date.now();return function(){e+n-Date.now()<0&&(t(),e=Date.now())}}function autoWidthInput(){$.fn.textWidth=function(){var t=$("<span>").hide().appendTo(document.body).text(this.val()),n=t.width();return t.remove(),n},$(".input.auto > input").on("input",function(){$(this).css("width",$(this).textWidth()+18)}).trigger("input")}function checkGroupAll(){$(".check_group_all .checkbox [type=checkbox]").on("change",function(){var t,n=$(this).parents(".check_group_all").find(".checkbox");$(this).hasClass("all")?n.find("[type=checkbox]:not(:disabled)").not(this).prop("checked",$(this).prop("checked")):(t=n.find("[type=checkbox].all"),n.find("[type=checkbox]:not(:disabled)").not(".all").length===n.find("[type=checkbox]:not(:disabled):checked").not(".all").length?t.prop("checked",!0):t.prop("checked",!1))})}function switchGroupAll(){$(".check_group_all .switch [type=checkbox]").on("change",function(){var t,n=$(this).parents(".check_group_all").find(".switch");$(this).hasClass("all")?n.find("[type=checkbox]:not(:disabled)").not(this).prop("checked",$(this).prop("checked")):(t=n.find("[type=checkbox].all"),n.find("[type=checkbox]:not(:disabled)").not(".all").length===n.find("[type=checkbox]:not(:disabled):checked").not(".all").length?t.prop("checked",!0):t.prop("checked",!1))})}function btnToggle(){$(".btn.toggle").click(function(){$(this).toggleClass("on")})}function textClear(){$(".input.search > input").on("keyup",function(){var t=$(this).siblings(".btn_clear");$(this).val().length&&t.show(),t.click(function(){$(this).hide().siblings("input").val("")})})}function fileUpload(){$(".file:not(.btn_only) > label > input").on("change",function(){var t;t=window.FileReader?$(this)[0].files[0].name:$(this).val().split("/").pop().split("\\").pop(),$(this).parent().siblings("input").val(t)})}function numberSpinner(){var t=$(".number");$.each(t,function(t,n){var e=$(n).find("input"),o=$(e).attr("min"),i=$(e).attr("max"),a=$(e).attr("step");""!=o&&null!=o||(o=-999999999999),""!=i&&null!=i||(i=999999999999),""!=a&&null!=a||(a="1"),$.each($(n).find("button"),function(t,n){0==t?$(n).attr("onClick","stepperInput($(this), -"+a+", "+o+")"):$(n).attr("onClick","stepperInput($(this), "+a+", "+i+")")});for(var l=0;l<e.length;l++)1==e.eq(l).prop("disabled")&&e.eq(l).siblings("button").attr("disabled",!0)})}function stepperInput(t,n,e){var o=$(".number"),t=$(t).parent(o).find("input");0<n?parseFloat(t.val())<e&&t.val(parseFloat(t.val())+n):parseFloat(t.val())>e&&t.val(parseFloat(t.val())+n)}function modalCloseAll(){$(".modal").modal("hide")}function multiSelectLoad(){for(var t=$(".multi_select > select"),n=0;n<t.length;n++){var e=t.eq(n).parent(".multi_select");e.hasClass("select_all")&&e.hasClass("search")?t.eq(n).multiselect({includeSelectAllOption:!0,enableFiltering:!0,enableCaseInsensitiveFiltering:!0,selectAllNumber:!1,buttonTextAlignment:"left"}):e.hasClass("select_all")?t.eq(n).multiselect({includeSelectAllOption:!0,selectAllNumber:!1,buttonTextAlignment:"left"}):e.hasClass("search")?t.eq(n).multiselect({enableFiltering:!0,enableCaseInsensitiveFiltering:!0,buttonTextAlignment:"left"}):t.eq(n).multiselect({buttonTextAlignment:"left"})}for(var o=$(".multiselect.dropdown-toggle"),n=0;n<o.length;n++)o.eq(n).off(),o.eq(n).on("click",function(){multiSelectPosition($(this))})}function multiSelectPosition(t){var n=t.next(".multiselect-container"),e=window.scrollY||window.pageYOffset||document.documentElement&&document.documentElement.scrollTop||document.body.scrollTop,o=document.documentElement&&document.documentElement.scrollLeft||document.body.scrollLeft,e=t.offset().top-e+t.outerHeight(),o=t.offset().left-o;n.css({minWidth:$(t).outerWidth()}),$(window).height()<e+n.outerHeight()?n.css({top:e-n.outerHeight()-t.outerHeight(),left:o}):n.css({top:e,left:o}),$(window).width()<o+n.outerWidth()&&n.css({left:o-n.outerWidth()+n.parent(".btn-group").outerWidth()})}function multiSelectReposition(){$(".multi_select").find(".btn-group").hasClass("show")&&multiSelectPosition($(".btn-group.show").find(".multiselect.dropdown-toggle"))}function tooltipLoad(){$('[data-toggle="tooltip"]').tooltip()}function dropdownLoad(){$(".dropdown > .dropdown-menu, .dropup > .dropdown-menu, .dropleft > .dropdown-menu, .dropright > .dropdown-menu").click(function(t){t.stopPropagation()}),$(".dropdown-menu .btn_close").click(function(){$(this).closest(".dropdown, .dropup, .dropleft, .dropright").find('[data-toggle="dropdown"]').dropdown("toggle")})}function formBlur(){var t=$(".time_input input, .time_sec_input input, .month_input input, .date_input input, .datetime_input input, .datetime_sec_input input"),n=$(".select select"),e=$(".tooltip.show"),o=$(".dropdown-menu.show");0<t.length&&t.blur(),0<n.length&&n.blur(),0<e.length&&$('[data-toggle="tooltip"]').tooltip("hide"),0<o.length&&o.dropdown("toggle")}function formBlurDrag(){$(".modal-header").on("mousedown",formBlur)}function tabMenuLoad(){$(".tabs > .tablist > button:first-of-type").addClass("on").attr("aria-selected","true").attr("tabindex","0"),$(".tabs > .tablist").next(".tabpanel").addClass("on"),$(".tabs > .tablist > button").on("keydown",function(t){switch((t=t||window.event).preventDefault?t.preventDefault():t.returnValue=!1,t.keyCode||t.which){case 37:case 38:(this.previousElementSibling?$(this).attr("tabindex","-1").prev():($(this).attr("tabindex","-1"),$(this).parent().find("> button:last-of-type"))).attr("tabindex","0").focus();break;case 39:case 40:(this.nextElementSibling?$(this).attr("tabindex","-1").next():($(this).attr("tabindex","-1"),$(this).parent().find("> button:first-of-type"))).attr("tabindex","0").focus();break;case 36:$(this).attr("tabindex","-1"),$(this).parent().find("> button:first-of-type").attr("tabindex","0").focus();break;case 35:$(this).attr("tabindex","-1"),$(this).parent().find("> button:last-of-type").attr("tabindex","0").focus();break;case 32:case 13:$(this).addClass("on").attr("aria-selected","true").siblings().removeClass("on").attr("aria-selected","false"),$("#"+$(this).attr("aria-controls")).attr("tabindex","0").addClass("on").siblings(".tabpanel").attr("tabindex","-1").removeClass("on")}}),$(".tabs > .tablist").on("keydown",".on",function(t){var n=(t=t||window.event).keyCode||t.which;t.shiftKey||9!==n||(t.preventDefault?t.preventDefault():t.returnValue=!1,$("#"+$(this).attr("aria-controls")).attr("tabindex","0").addClass("on").focus().siblings(".tabpanel").attr("tabindex","-1").removeClass("on"))}),$(".tabs > .tablist > button").on("click",function(){$(this).addClass("on").attr({tabindex:"0","aria-selected":"true"}).focus().siblings().removeClass("on").attr({tabindex:"-1","aria-selected":"false"}),$("#"+$(this).attr("aria-controls")).attr("tabindex","0").addClass("on").siblings(".tabpanel").attr("tabindex","-1").removeClass("on")})}function accordionLoad(){for(var t=$(".accordion .btn_accordion.on"),n=0;n<t.length;n++)$("#"+t.eq(n).attr("aria-controls")).addClass("on").slideDown(200);$(".accordion .btn_accordion").on("keydown",function(t){switch((t=t||window.event).keyCode||t.which){case 38:t.preventDefault?t.preventDefault():t.returnValue=!1,(0==$(this).closest(".accordion").find("> *:nth-of-type(1) > button").is(":focus")?$(this).parent().prev().prev().find("> .btn_accordion"):$(this).closest(".accordion").find("> *:nth-last-of-type(1) > button")).focus();break;case 40:t.preventDefault?t.preventDefault():t.returnValue=!1,(0==$(this).closest(".accordion").find("> *:nth-last-of-type(1) > button").is(":focus")?$(this).parent().next().next().find("> .btn_accordion"):$(this).closest(".accordion").find("> *:nth-of-type(1) > button")).focus();break;case 36:t.preventDefault?t.preventDefault():t.returnValue=!1,$(this).closest(".accordion").find("> *:nth-of-type(1) > button").focus();break;case 35:t.preventDefault?t.preventDefault():t.returnValue=!1,$(this).closest(".accordion").find("> *:nth-last-of-type(1) > button").focus()}}),$(".accordion .btn_accordion").on("click",function(){$(this).hasClass("on")?($(this).removeClass("on").attr("aria-expanded","false"),$("#"+$(this).attr("aria-controls")).removeClass("on").slideUp(200)):$(this).closest(".accordion").hasClass("auto_collapse")?($(this).addClass("on").attr("aria-expanded","true").focus().parent().siblings().find("> .btn_accordion").removeClass("on").attr("aria-expanded","false"),$("#"+$(this).attr("aria-controls")).addClass("on").slideDown(200).siblings(".accordion_panel").removeClass("on").slideUp(200)):($(this).addClass("on").attr("aria-expanded","true").focus(),$("#"+$(this).attr("aria-controls")).addClass("on").slideDown(200))})}function navigationLNB(){var n=$(".page_title .path").find(".path_01").text().replace(/\s/g,""),e=$(".page_title .path").find(".path_02").text().replace(/\s/g,""),o=$(".page_title .path").find(".path_03").text().replace(/\s/g,""),t=$(".lnb .navigation"),i=t.find("> li"),a=t.find("> li > ul > li"),t=t.find("> li > ul > li > ul > li");i.each(function(){var t=$(this);t.find("> a > span").text().replace(/\s/g,"")==n&&t.addClass("active open")}),a.each(function(){var t=$(this);t.find("> a > span").text().replace(/\s/g,"")==e&&t.addClass("active")}),t.each(function(){var t=$(this);t.find("> a > span").text().replace(/\s/g,"")==o&&t.addClass("active")}),$(".lnb .navigation > li:has(ul)").addClass("sub_depth"),$(".lnb .navigation > li > a").on("click keypress",function(t){var n=$(this).parent("li");t.preventDefault?t.preventDefault():t.returnValue=!1,"click"!==t.type&&"32"!=t.keyCode||(!1===n.hasClass("open")?($(this).parent().siblings("li").removeClass("open"),$(this).parent().siblings("li").children("ul").slideUp(200),0<$(this).next("ul").length&&($(this).parent("li").addClass("open"),$(this).next("ul").slideDown(200))):($(this).parent("li").removeClass("open"),$(this).next("ul").slideUp(200)))}),$(document).on("click",".lnb .btn_lnb",function(t){(!1===$(".nav_lnb").hasClass("min_lnb")?($(".nav_lnb").addClass("min_lnb"),$(".btn_lnb").find("span").removeClass("icon_angle_left").addClass("icon_angle_right").attr("data-original-title","Expand side menu")):($(".nav_lnb").removeClass("min_lnb"),$(".btn_lnb").find("span").removeClass("icon_angle_right").addClass("icon_angle_left").attr("data-original-title","Collapse side menu"))).tooltip("show")}),$(document).on("mouseover",".min_lnb > .lnb",function(t){t.stopImmediatePropagation(),$(".lnb").addClass("open")}),$(document).on("mouseleave",".min_lnb > .lnb",function(t){t.stopImmediatePropagation(),$(".lnb").removeClass("open"),$(".util_dropdown").hide()})}function minNav(){var t=window.innerWidth;!0===$(".wrap").hasClass("nav_lnb")&&(t<1600?($(".wrap").addClass("min_lnb"),$(".btn_lnb").find("span").removeClass("icon_angle_left").addClass("icon_angle_right").attr("data-original-title","Expand side menu")):($(".wrap").removeClass("min_lnb"),$(".lnb").removeClass("open"),$(".btn_lnb").find("span").removeClass("icon_angle_right").addClass("icon_angle_left").attr("data-original-title","Collapse side menu"))).tooltip()}function utilDropdown(){$(".util_menu > li > .btn.icon").on("click",function(){$(".util_dropdown").not($(this).next()).hide(),$(this).next().toggle()}),$(".util_dropdown .btn_close").on("click",function(){$(this).parents(".util_dropdown").hide()}),$(document).mouseup(function(t){$(".util_menu .btn.icon, .util_dropdown").has(t.target).length||$(".util_dropdown").is(":visible")&&$(".util_dropdown").hide()})}function searchAdvanced(){$(".search_area .btn_advanced").on("click",function(){$(".search_area .search_advanced").slideToggle(200)}),$(document).mouseup(function(t){$(".search_area").has(t.target).length||$(".search_advanced").is(":visible")&&($(".search_advanced").slideUp(200),$(".search_area .btn_advanced").removeClass("on"))})}function graphToggle(t){$(".stats_chart_area").slideToggle(100);t=$(t).children("span:eq(1)");"Graph Hide"==t.html()?t.html("Graph Show"):t.html("Graph Hide")}function scrollDetect(){var t=$(".header"),n=$(".floating_area > .btn_top");20<=(window.pageYOffset||document.documentElement.scrollTop)?(t.addClass("down"),n.fadeIn(200)):(t.removeClass("down"),n.fadeOut(200)),$(window).on("scroll",function(){20<=(window.pageYOffset||document.documentElement.scrollTop)?(t.addClass("down"),n.fadeIn(200)):(t.removeClass("down"),n.fadeOut(200))}),n.click(function(){return $("html, body").animate({scrollTop:0},200),!1})}function dashSetDropdown(){$(".dash_set_wrap > .btn.icon").on("click",function(){$(".dash_set_dropdown").not($(this).next()).hide(),$(this).next().toggle()}),$(".dash_set_dropdown .btn_close").on("click",function(){$(this).parents(".dash_set_dropdown").hide()}),$(document).mouseup(function(t){$(".dash_set_wrap .btn.icon, .dash_set_dropdown").has(t.target).length||$(".dash_set_dropdown").is(":visible")&&$(".dash_set_dropdown").hide()})}$(function(){$(window).add("div:not(.dropdown-menu), tbody").on("scroll",throttle(function(){isMobile||formBlur()},1e3)),$(window).add("div:not(.dropdown-menu), tbody").on("scroll",throttle(function(){isMobile&&formBlur()},1e3))}),$(window).on("resize",function(){isMobile||formBlur()}),$(window).on("orientationchange",function(){isMobile&&formBlur()}),function(i,o){"use strict";function a(t){this.$element=i(t),this.modalCount=0}a.BASE_ZINDEX=1040,a.prototype.show=function(t){var n=this,t=i(t),e=n.modalCount++;t.css("z-index",a.BASE_ZINDEX+10*e+1),o.setTimeout(function(){0<e&&i(".modal-backdrop").not(":first").addClass("hidden"),n.adjustBackdrop()}),t.find(".modal-dialog").css({top:0,left:0})},a.prototype.hidden=function(t){this.modalCount--,this.modalCount&&(this.adjustBackdrop(),i("body").addClass("modal-open"))},a.prototype.adjustBackdrop=function(){var t=this.modalCount-1;i(".modal-backdrop:first").css("z-index",a.BASE_ZINDEX+10*t)},i.fn.multiModal=function(e,o){return this.each(function(){var t=i(this),n=t.data("multi-modal-plugin");n||t.data("multi-modal-plugin",n=new a(this)),e&&n[e](o)})},i.fn.multiModal.Constructor=a,i(document).on("show.bs.modal",function(t){i(document).multiModal("show",t.target)}),i(document).on("hidden.bs.modal",function(t){i(document).multiModal("hidden",t.target)})}(jQuery,window);